create table acte (id bigint generated by default as identity, categorie_acte varchar(255) check (categorie_acte in ()), description varchar(255), primary key (id));
create table antecedent_medicale (categorie_antecedent_medical tinyint check (categorie_antecedent_medical between 0 and 0), date_antecedent date, id bigint generated by default as identity, patient_id bigint, description varchar(255), primary key (id));
create table caisse (solde float(53), id bigint generated by default as identity, primary key (id));
create table consultation (date_consultation date, dossier_medicale_id bigint, id bigint generated by default as identity, type_consultation varchar(255) check (type_consultation in ()), primary key (id));
create table dentist (assurance tinyint check (assurance between 0 and 1), statut_actuel tinyint check (statut_actuel between 0 and -1), id bigint generated by default as identity, utilisateur_id bigint unique, primary key (id));
create table dentist_disponibilite (disponibilite tinyint check (disponibilite between 0 and 2), dentist_id bigint not null, disponibilite_key varchar(255) not null check (disponibilite_key in ('MONDAY','TUESDAY','WEDNESDAY','THURSDAY','FRIDAY','SATURDAY','SUNDAY')), primary key (dentist_id, disponibilite_key));
create table dentist_specialite (dentist_id bigint not null, specialite varchar(255) check (specialite in ('ENDONITE','CHIRURGERIE_DENTAIRE')));
create table dossier_medicale (date_creation date, status_paiement tinyint check (status_paiement between 0 and -1), id bigint generated by default as identity, medecin_traitant_id bigint, patient_id bigint unique, num_dossier varchar(255), primary key (id));
create table facture (date_facturation date, montant_paye float(53), montant_restant float(53), montant_totale float(53), type_paiement tinyint check (type_paiement between 0 and 2), consultation_id bigint, id bigint generated by default as identity, situation_financiere_id bigint unique, primary key (id));
create table intervention_medicale (prix_patient float(53), acte_id bigint, consultation_id bigint, dent bigint, id bigint generated by default as identity, note_medecin varchar(255), primary key (id));
create table patient (id bigint generated by default as identity, personne_id bigint unique, group_sanguin varchar(255) check (group_sanguin in ('A','B')), mutuelle varchar(255) check (mutuelle in ('CNOPS')), primary key (id));
create table personne (date_naissance date, id bigint generated by default as identity, adresse varchar(255), email varchar(255), nom varchar(255), prenom varchar(255), sexe varchar(255), telephone varchar(255), primary key (id));
create table role (id bigint generated by default as identity, role_name varchar(255), privileges varchar(255) array, primary key (id));
create table secretaire (assurance tinyint check (assurance between 0 and 1), date_retour_conge date, salaire_de_base float(53) not null, statut_actuel tinyint check (statut_actuel between 0 and -1), id bigint generated by default as identity, utilisateur_id bigint unique, primary key (id));
create table situation_financiere (date_paiement date, montant float(53), caisse_id bigint, dossier_medicale_id bigint, id bigint generated by default as identity, status_paiement varchar(255) check (status_paiement in ()), primary key (id));
create table utilisateur (id bigint generated by default as identity, personne_id bigint unique, role_id bigint, password varchar(255), username varchar(255), primary key (id));
alter table if exists antecedent_medicale add constraint FKpwb437qrp1llsv4wl0j5thc9g foreign key (patient_id) references patient;
alter table if exists consultation add constraint FKa7blfcjwigsnswxe96a1vfc8k foreign key (dossier_medicale_id) references dossier_medicale;
alter table if exists dentist add constraint FK7yw44jk28bv6i81qdaaawdgue foreign key (utilisateur_id) references utilisateur;
alter table if exists dentist_disponibilite add constraint FKq86hcg3rmjunquqk0tl3ou622 foreign key (dentist_id) references dentist;
alter table if exists dentist_specialite add constraint FKr1ebdju7gwesrpcrbsc5lskv8 foreign key (dentist_id) references dentist;
alter table if exists dossier_medicale add constraint FKsab0jctr07q43obky00txvrmg foreign key (medecin_traitant_id) references dentist;
alter table if exists dossier_medicale add constraint FK95qqyv62mew66d2axnkpalpy6 foreign key (patient_id) references patient;
alter table if exists facture add constraint FKaai7p3enxprk554j0g494k0fr foreign key (consultation_id) references consultation;
alter table if exists facture add constraint FKdv0ssecf2b6bfktitgxqcosub foreign key (situation_financiere_id) references situation_financiere;
alter table if exists intervention_medicale add constraint FKijnh4itofft8hryc26s9iyydp foreign key (acte_id) references acte;
alter table if exists intervention_medicale add constraint FK9dpvr6ad0txk79uum7j62essu foreign key (consultation_id) references consultation;
alter table if exists patient add constraint FKfn1heck319d80w711qlf5jqg3 foreign key (personne_id) references personne;
alter table if exists secretaire add constraint FKgrgq9s2uy2157iw7jpoc4fimk foreign key (utilisateur_id) references utilisateur;
alter table if exists situation_financiere add constraint FKdqayyoop7hotqqm371k17hv71 foreign key (caisse_id) references caisse;
alter table if exists situation_financiere add constraint FKkmw5h94a0t9hnp4lrd5l0ittq foreign key (dossier_medicale_id) references dossier_medicale;
alter table if exists utilisateur add constraint FKpivmpwomgk25msmukx6qj2hln foreign key (personne_id) references personne;
alter table if exists utilisateur add constraint FKaqe8xtajee4k0wlqrvh2pso4l foreign key (role_id) references role;
